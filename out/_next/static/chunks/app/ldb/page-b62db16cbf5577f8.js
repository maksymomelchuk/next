(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{167:function(e,r,t){Promise.resolve().then(t.bind(t,672))},672:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return O}});var n=t(5607),o=t(8570),i=t(9520),a=t(5125),l=t(6028);let s=l.z.object({id:l.z.number(),created_at:l.z.string(),provider_id:l.z.string(),data_provider_string:l.z.string(),contact_uri:l.z.union([l.z.string(),l.z.null()]),language:l.z.union([l.z.string(),l.z.null()]),provider_id_series:l.z.union([l.z.string(),l.z.null()]),type_of_provider:l.z.union([l.z.string(),l.z.null()]),updated_at:l.z.union([l.z.string(),l.z.null()])}),d=l.z.array(s);var c=t(5697);let u=async(e,r,t)=>{let n=new URLSearchParams(t),o=n.get("data_provider_string");if(o&&o.length<3)return(0,c.Am)({variant:"error",title:"Search string must be at least 3 characters long"}),[];let{data:i}=await a.ZP.get("/ldb/adr-providers".concat(t,"&limit=").concat(e,"&offset=").concat(r)),l=d.parse(i);return l},f=async e=>{let{id:r,data:t}=e,n=await a.ZP.put("/ldb/adr-providers/".concat(r),t);return console.log("Data after updating ldb",n),n},p=async e=>{let r=await a.ZP.post("/ldb/adr-providers",e);return console.log("Data after creating ldb",r),r};var m=t(3202),x=t(4889),g=t(4811),v=t(8025),h=t(5344),j=t(4279),_=t(813),y=t(9260),b=t(4989),z=t(6790),N=t(961),I=t(9680),S=t(5052);let C=[{id:"select",header:e=>{let{table:r}=e;return(0,n.jsx)(b.X,{checked:r.getIsAllPageRowsSelected(),onCheckedChange:e=>r.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",className:"translate-y-[2px]"})},cell:e=>{let{row:r}=e;return(0,n.jsx)(b.X,{checked:r.getIsSelected(),onCheckedChange:e=>r.toggleSelected(!!e),"aria-label":"Select row",className:"translate-y-[2px]"})},size:80,enableSorting:!1,enableHiding:!1},{id:"expand",cell:e=>{let{row:r}=e;return r.getAllCells().length>r.getVisibleCells().length&&(0,n.jsx)(I.Z,{row:r})},size:40,enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:e=>{let{column:r}=e;return(0,n.jsx)(z.p,{column:r,title:"Id"})},cell:N.n,size:80,enableHiding:!1},{accessorKey:"data_provider_string",header:e=>{let{column:r}=e;return(0,n.jsx)(z.p,{column:r,title:"Data Provider"})},cell:N.n,size:250},{accessorKey:"provider_id",header:e=>{let{column:r}=e;return(0,n.jsx)(z.p,{column:r,title:"Provider ID"})},cell:N.n},{accessorKey:"provider_id_series",header:e=>{let{column:r}=e;return(0,n.jsx)(z.p,{column:r,title:"Provider ID Series"})},cell:N.n,enableSorting:!1},{accessorKey:"type_of_provider",header:e=>{let{column:r}=e;return(0,n.jsx)(z.p,{column:r,title:"Type of Provider"})},cell:N.n,enableSorting:!1},{accessorKey:"language",header:e=>{let{column:r}=e;return(0,n.jsx)(z.p,{column:r,title:"Language"})},cell:N.n,enableSorting:!1},{accessorKey:"contact_uri",header:e=>{let{column:r}=e;return(0,n.jsx)(z.p,{column:r,title:"Contacts"})},cell:N.n,size:130,enableSorting:!1},{id:"actions",cell:e=>{let{row:r,table:t}=e;return(0,n.jsx)(S.F,{row:r,table:t})},size:80}],w=e=>l.dj(e=>{if(e&&"string"==typeof e)return""===e?void 0:e},e);var P=t(8251),R=t(6884),E=t(4508),F=t(5083),D=t(6048),Z=t(3782),J=t(4614),L=t(5175);let V=l.Ry({data_provider_string:l.Z_().min(2).max(127),provider_id:l.Z_().min(2).max(63),provider_id_series:w(l.Z_().min(2).max(63).optional()),contact_uri:w(l.Z_().min(2).max(127).optional()),type_of_provider:w(l.Z_().min(2).max(127).optional()),language:w(l.Z_().min(2).max(15).optional())}),G=e=>{let{setOpenDialogue:r}=e,{toast:t}=(0,c.pm)(),o=(0,R.NL)(),{mutate:i}=(0,E.D)({mutationFn:p,onSuccess:()=>{o.invalidateQueries(["ldb"]),r(!1),t({variant:"success",description:"Successfully created"})},onError:e=>{if(F.Z.isAxiosError(e)){var r;(null===(r=e.response)||void 0===r?void 0:r.status)===422&&(t({variant:"error",description:JSON.stringify(e.response.data)}),console.log("error in creating LDB",e))}}}),a=(0,D.cI)({resolver:(0,P.F)(V),defaultValues:{data_provider_string:"",provider_id:"",provider_id_series:"",contact_uri:"",type_of_provider:"",language:""}});return(0,n.jsx)(J.l0,{...a,children:(0,n.jsxs)("form",{onSubmit:a.handleSubmit(e=>{console.log("values -->",e),i(e)}),className:"space-y-8",children:[(0,n.jsx)(J.Wi,{control:a.control,name:"data_provider_string",render:e=>{let{field:r}=e;return(0,n.jsxs)(J.xJ,{children:[(0,n.jsx)(J.lX,{children:"Data Provider *"}),(0,n.jsx)(J.NI,{children:(0,n.jsx)(L.I,{autoComplete:"off",placeholder:"Data provider",...r})}),(0,n.jsx)(J.pf,{children:"Your data provider"}),(0,n.jsx)(J.zG,{})]})}}),(0,n.jsx)(J.Wi,{control:a.control,name:"provider_id",render:e=>{let{field:r}=e;return(0,n.jsxs)(J.xJ,{children:[(0,n.jsx)(J.lX,{children:"Provider Id *"}),(0,n.jsx)(J.NI,{children:(0,n.jsx)(L.I,{autoComplete:"off",placeholder:"Provider Id",...r})}),(0,n.jsx)(J.pf,{children:"Your data provider Id"}),(0,n.jsx)(J.zG,{})]})}}),(0,n.jsx)(J.Wi,{control:a.control,name:"provider_id_series",render:e=>{let{field:r}=e;return(0,n.jsxs)(J.xJ,{children:[(0,n.jsx)(J.lX,{children:"Provider Id Series"}),(0,n.jsx)(J.NI,{children:(0,n.jsx)(L.I,{autoComplete:"off",placeholder:"Provider Id Series",...r})}),(0,n.jsx)(J.pf,{children:"Your data provider Id series"}),(0,n.jsx)(J.zG,{})]})}}),(0,n.jsx)(J.Wi,{control:a.control,name:"contact_uri",render:e=>{let{field:r}=e;return(0,n.jsxs)(J.xJ,{children:[(0,n.jsx)(J.lX,{children:"Contacts"}),(0,n.jsx)(J.NI,{children:(0,n.jsx)(L.I,{autoComplete:"off",placeholder:"Contacts",...r})}),(0,n.jsx)(J.zG,{})]})}}),(0,n.jsx)(J.Wi,{control:a.control,name:"type_of_provider",render:e=>{let{field:r}=e;return(0,n.jsxs)(J.xJ,{children:[(0,n.jsx)(J.lX,{children:"Type of Provider"}),(0,n.jsx)(J.NI,{children:(0,n.jsx)(L.I,{autoComplete:"off",placeholder:"type of provider",...r})}),(0,n.jsx)(J.zG,{})]})}}),(0,n.jsx)(J.Wi,{control:a.control,name:"language",render:e=>{let{field:r}=e;return(0,n.jsxs)(J.xJ,{children:[(0,n.jsx)(J.lX,{children:"Language"}),(0,n.jsx)(J.NI,{children:(0,n.jsx)(L.I,{autoComplete:"off",placeholder:"EN",...r})}),(0,n.jsx)(J.zG,{})]})}}),(0,n.jsx)(Z.z,{type:"submit",children:"Save"})]})})};var O=()=>{let e=(0,i.useRouter)(),r=(0,x.b)("Ldb@ListRecords"),{canCreate:t}=(0,y.x)("/ldb"),[a,l]=(0,o.useState)(!1),s=(0,_.G)("/ldb"),{data:d,isFetching:c,fetchNextPage:p,isLoading:b}=(0,g.i)(["/ldb",s],u,r,s),{mutateAsync:z}=(0,j.F)(f,["/ldb"]),N=o.useRef(null),{flatData:I,fetchMoreOnBottomReached:S}=(0,v._)({data:d,isFetching:c,fetchNextPage:p,tableContainerRef:N}),w=(0,h.x)(I,C,z,V);return(0,o.useEffect)(()=>{let r=localStorage.getItem("/ldb-sort");if(r){let t=new URLSearchParams(JSON.parse(r));e.push("/ldb?".concat(t.toString()))}else localStorage.setItem("/ldb-sort",JSON.stringify({order_type:"asc",order_by:"id"})),e.push("/ldb?order_by=id&order_type=asc")},[]),(0,n.jsx)(m.d,{table:w,data:I,isLoading:b,setOpenDialogue:l,openDialogue:a,fetchMoreOnBottomReached:S,tableContainerRef:N,children:t?(0,n.jsx)(G,{setOpenDialogue:l}):null})}},4614:function(e,r,t){"use strict";t.d(r,{l0:function(){return f},NI:function(){return j},pf:function(){return _},Wi:function(){return m},xJ:function(){return v},lX:function(){return h},zG:function(){return y}});var n=t(5607),o=t(8570),i=t(302),a=t(6048),l=t(9958),s=t(3592),d=t(1835);let c=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(s.f,{ref:r,className:(0,l.cn)(c(),t),...o})});u.displayName=s.f.displayName;let f=a.RV,p=o.createContext({}),m=e=>{let{...r}=e;return(0,n.jsx)(p.Provider,{value:{name:r.name},children:(0,n.jsx)(a.Qr,{...r})})},x=()=>{let e=o.useContext(p),r=o.useContext(g),{getFieldState:t,formState:n}=(0,a.Gc)(),i=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...i}},g=o.createContext({}),v=o.forwardRef((e,r)=>{let{className:t,...i}=e,a=o.useId();return(0,n.jsx)(g.Provider,{value:{id:a},children:(0,n.jsx)("div",{ref:r,className:(0,l.cn)("space-y-2",t),...i})})});v.displayName="FormItem";let h=o.forwardRef((e,r)=>{let{className:t,...o}=e,{error:i,formItemId:a}=x();return(0,n.jsx)(u,{ref:r,className:(0,l.cn)(i&&"text-accent",t),htmlFor:a,...o})});h.displayName="FormLabel";let j=o.forwardRef((e,r)=>{let{...t}=e,{error:o,formItemId:a,formDescriptionId:l,formMessageId:s}=x();return(0,n.jsx)(i.g7,{ref:r,id:a,"aria-describedby":o?"".concat(l," ").concat(s):"".concat(l),"aria-invalid":!!o,...t})});j.displayName="FormControl";let _=o.forwardRef((e,r)=>{let{className:t,...o}=e,{formDescriptionId:i}=x();return(0,n.jsx)("p",{ref:r,id:i,className:(0,l.cn)("text-muted-foreground text-sm",t),...o})});_.displayName="FormDescription";let y=o.forwardRef((e,r)=>{let{className:t,children:o,...i}=e,{error:a,formMessageId:s}=x(),d=a?String(null==a?void 0:a.message):o;return d?(0,n.jsx)("p",{ref:r,id:s,className:(0,l.cn)("text-accent text-sm font-medium",t),...i,children:d}):null});y.displayName="FormMessage"},8251:function(e,r,t){"use strict";t.d(r,{F:function(){return s}});var n=t(6048),o=function(e,r,t){if(e&&"reportValidity"in e){var o=(0,n.U2)(t,r);e.setCustomValidity(o&&o.message||""),e.reportValidity()}},i=function(e,r){var t=function(t){var n=r.fields[t];n&&n.ref&&"reportValidity"in n.ref?o(n.ref,t,e):n.refs&&n.refs.forEach(function(r){return o(r,t,e)})};for(var n in r.fields)t(n)},a=function(e,r){r.shouldUseNativeValidation&&i(e,r);var t={};for(var o in e){var a=(0,n.U2)(r.fields,o);(0,n.t8)(t,o,Object.assign(e[o]||{},{ref:a&&a.ref}))}return t},l=function(e,r){for(var t={};e.length;){var o=e[0],i=o.code,a=o.message,l=o.path.join(".");if(!t[l]){if("unionErrors"in o){var s=o.unionErrors[0].errors[0];t[l]={message:s.message,type:s.code}}else t[l]={message:a,type:i}}if("unionErrors"in o&&o.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var d=t[l].types,c=d&&d[o.code];t[l]=(0,n.KN)(l,r,t,i,c?[].concat(c,o.message):o.message)}e.shift()}return t},s=function(e,r,t){return void 0===t&&(t={}),function(n,o,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e["sync"===t.mode?"parse":"parseAsync"](n,r)).then(function(e){return s.shouldUseNativeValidation&&i({},s),{errors:{},values:t.raw?n:e}})}catch(e){return a(e)}return l&&l.then?l.then(void 0,a):l}(0,function(e){if(null!=e.errors)return{values:{},errors:a(l(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[468,28,246,211,367,492,41,869,501,524,744],function(){return e(e.s=167)}),_N_E=e.O()}]);