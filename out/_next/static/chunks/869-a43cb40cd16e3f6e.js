"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{6790:function(e,l,t){t.d(l,{p:function(){return c}});var a=t(5607),s=t(8570),r=t(9520),n=t(9958),i=t(3782),d=t(7785),o=t(3153);function c(e){var l;let{column:t,title:c,className:u}=e,m=(0,r.usePathname)(),g=(0,r.useSearchParams)(),f=(0,r.useRouter)(),x=JSON.parse(null!==(l=localStorage.getItem("".concat(m,"-sort")))&&void 0!==l?l:"{}"),h=(0,s.useCallback)(e=>{let l=new URLSearchParams(Array.from(g.entries())),t=g.get("order_by");return t&&t!==e.order_by&&(l.delete("order_type"),l.delete("order_by")),l.set("order_by",e.order_by),l.set("order_type",e.order_type),f.push("".concat(m,"?").concat(l.toString())),l.toString()},[m,f,g]);return(0,s.useEffect)(()=>{var e;let l=JSON.parse(null!==(e=localStorage.getItem(m))&&void 0!==e?e:"{}");!1===l[t.id]&&t.toggleVisibility(!1)},[]),t.getCanSort()?(0,a.jsx)("div",{className:(0,n.cn)("flex items-center space-x-2",u),children:(0,a.jsxs)(d.h_,{children:[(0,a.jsx)(d.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"-ml-3 h-14 hover:bg-white/70 data-[state=open]:bg-secondary",children:[(0,a.jsx)("span",{children:c}),x.order_by===t.id?"asc"===x.order_type?(0,a.jsx)(o.P.asc,{className:"ml-2 h-3.5 w-3.5 text-muted-foreground/70"}):(0,a.jsx)(o.P.desc,{className:"ml-2 h-3.5 w-3.5 text-muted-foreground/70"}):(0,a.jsx)(o.P.sort,{className:"ml-2 h-4 w-4"})]})}),(0,a.jsxs)(d.AW,{align:"start",children:[(0,a.jsxs)(d.Xi,{onClick:()=>{let e=t.id===x.order_by,l={order_type:e&&"asc"===x.order_type?"desc":"asc",order_by:t.id};h(l),localStorage.setItem("".concat(m,"-sort"),JSON.stringify(l))},children:[(0,a.jsx)(o.P.sort,{className:" mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Sort"]}),(0,a.jsx)(d.VD,{}),(0,a.jsxs)(d.Xi,{disabled:!t.getCanHide(),onClick:()=>{var e;let l=JSON.parse(null!==(e=localStorage.getItem(m))&&void 0!==e?e:"{}"),a={...l,[t.id]:!1};localStorage.setItem(m,JSON.stringify(a)),t.toggleVisibility(!1)},children:[(0,a.jsx)(o.P.hide,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})}):(0,a.jsx)("div",{className:(0,n.cn)("flex items-center space-x-2",u),children:(0,a.jsxs)(d.h_,{children:[(0,a.jsx)(d.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",className:"-ml-3 h-14 px-1 hover:bg-white/70 data-[state=open]:bg-secondary",children:[(0,a.jsx)("span",{children:c}),(0,a.jsx)(o.P.dotsHorizontal,{className:"ml-2 h-4 w-4 rotate-90"})]})}),(0,a.jsx)(d.AW,{align:"start",children:(0,a.jsxs)(d.Xi,{disabled:!t.getCanHide(),onClick:()=>{var e;let l=JSON.parse(null!==(e=localStorage.getItem(m))&&void 0!==e?e:"{}"),a={...l,[t.id]:!1};localStorage.setItem(m,JSON.stringify(a)),t.toggleVisibility(!1)},children:[(0,a.jsx)(o.P.hide,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})})]})})}},961:function(e,l,t){t.d(l,{n:function(){return r}});var a=t(5607),s=t(8570);let r=e=>{let{getValue:l,row:t,column:r,table:n}=e,i=l(),d=r.columnDef.meta,o=n.options.meta,[c,u]=(0,s.useState)(i);if((0,s.useEffect)(()=>{u(i)},[i]),null==o?void 0:o.selectedRow[t.id]){var m;return(null==d?void 0:d.type)==="select"?(0,a.jsx)("select",{onChange:e=>{u(e.target.value),null==o||o.updateData(t.index,r.id,e.target.value)},value:i,children:null==d?void 0:null===(m=d.options)||void 0===m?void 0:m.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.label))}):(0,a.jsx)("input",{value:null===c?void 0:c,onChange:e=>u(e.target.value),onBlur:()=>{null==o||o.updateData(t.index,r.id,c)},type:(null==d?void 0:d.type)||"text",className:"w-20"})}return(0,a.jsx)("span",{children:c})}},9680:function(e,l,t){var a=t(5607);t(8570);var s=t(3782),r=t(3153);l.Z=e=>{let{row:l}=e;return(0,a.jsx)(s.z,{variant:"outline",size:"sm",className:"h-auto border-none p-2",onClick:()=>l.toggleExpanded(),children:l.getIsExpanded()?(0,a.jsx)(r.P.minusCircle,{className:"h-4 w-4 rounded-full bg-red-500 text-white"}):(0,a.jsx)(r.P.plusCircle,{className:"h-4 w-4 rounded-full bg-green-500 text-white"})})}},5052:function(e,l,t){t.d(l,{F:function(){return u}});var a=t(5607),s=t(5083),r=t(3782),n=t(7785),i=t(5697),d=t(3153),o=t(9520),c=t(9260);let u=e=>{let{row:l,table:t}=e,u=(0,o.usePathname)(),m=t.options.meta,{canUpdate:g,canDelete:f}=(0,c.x)(u),x=async()=>{if(!(null==m?void 0:m.validation(l.index))){console.log("VALIDATION FAILED");return}let e=null==m?void 0:m.data[l.index];await (null==m?void 0:m.updateFunction({id:e.id,data:e},{onSuccess:()=>{console.log("SUCCESS"),null==m||m.saveData(e),h()},onError:e=>{if(s.Z.isAxiosError(e)){var l;(0,i.Am)({variant:"error",description:JSON.stringify(null===(l=e.response)||void 0===l?void 0:l.data)})}}}))},h=()=>{null==m||m.setSelectedRow(e=>({...e,[l.id]:!e[l.id]}))};return g||f?(0,a.jsx)("div",{className:"flex items-center",children:(null==m?void 0:m.selectedRow[l.id])?(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>{null==m||m.revertData(l.index),h()},children:(0,a.jsx)(d.P.closeMenu,{className:"h-5 w-5 text-red-400"})})," ",(0,a.jsx)("button",{onClick:x,children:(0,a.jsx)(d.P.check,{className:"h-5 w-5 text-green-400"})})]}):(0,a.jsxs)(n.h_,{children:[(0,a.jsx)(n.$F,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[(0,a.jsx)(d.P.dotsHorizontal,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,a.jsxs)(n.AW,{align:"end",className:"w-[160px]",children:[g&&(0,a.jsxs)(n.Xi,{onClick:()=>{h()},children:[(0,a.jsx)(d.P.edit,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Edit"]}),g&&f&&(0,a.jsx)(n.VD,{}),f&&(0,a.jsxs)(n.Xi,{onClick:e=>e.preventDefault(),children:[(0,a.jsx)(d.P.trash,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Delete"]})]})]})}):null}},3202:function(e,l,t){t.d(l,{d:function(){return X}});var a=t(5607),s=t(8570),r=t(3782),n=t(9520);let i=(e,l)=>{var t;let a=JSON.parse(null!==(t=localStorage.getItem(e))&&void 0!==t?t:"{}"),s=l.getAllColumns();for(let e=1;e<s.length-1;e++)if(!s[e].getIsVisible()&&(!(s[e].id in a)||a[s[e].id]))return s[e];return null};var d=t(4248),o=t(1033),c=t(9958);let u=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("table",{ref:l,className:(0,c.cn)("w-full  caption-bottom text-sm",t),...s})});u.displayName="Table";let m=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("thead",{ref:l,className:(0,c.cn)("[&_tr]:border-b",t),...s})});m.displayName="TableHeader";let g=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("tbody",{ref:l,className:(0,c.cn)("[&_tr:last-child]:border-0",t),...s})});g.displayName="TableBody";let f=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("tfoot",{ref:l,className:(0,c.cn)("bg-primary font-medium text-primary-foreground",t),...s})});f.displayName="TableFooter";let x=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("tr",{ref:l,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});x.displayName="TableRow";let h=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("th",{ref:l,className:(0,c.cn)("p-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});h.displayName="TableHead";let p=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("td",{ref:l,className:(0,c.cn)("relative p-2 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});p.displayName="TableCell";let v=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("caption",{ref:l,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",t),...s})});v.displayName="TableCaption";var j=t(5175),b=t(166),N=t.n(b);let y=e=>{let{column:l}=e,t=l.getFilterValue(),r=(0,n.useSearchParams)(),i=(0,n.useRouter)(),d=(0,n.usePathname)(),o=(0,s.useCallback)(N()((e,l)=>{let t=new URLSearchParams(Array.from(r.entries()));return l?t.set(e,l):t.delete(e),i.push("".concat(d,"?").concat(t.toString())),t.toString()},500),[d,i,r]);return(0,a.jsx)(j.I,{type:"text",value:null!=t?t:"",onChange:e=>{o(l.id,e.target.value.trim()),l.setFilterValue(e.target.value)},placeholder:"Search...",className:"h-8"})},w=e=>{var l,t;let{table:r,columnSearch:c,fetchMoreOnBottomReached:f,tableContainerRef:v}=e,j=(0,n.usePathname)();(0,s.useEffect)(()=>{let e=v.current;if(!e)return;let l=new ResizeObserver(()=>{if(e.offsetWidth<e.scrollWidth)b();else{if(r.getIsAllColumnsVisible())return;let l=i(j,r);if(!l)return;r.getTotalSize()+l.getSize()<=e.offsetWidth&&l.toggleVisibility(!0)}});return l.observe(e),()=>{l.disconnect()}},[]);let b=(0,s.useCallback)(()=>{r.getVisibleFlatColumns()[r.getVisibleFlatColumns().length-2].toggleVisibility(!1)},[r]),N=v.current;(0,s.useEffect)(()=>{N&&N.offsetWidth<N.scrollWidth&&b()},[N,null==N?void 0:N.offsetWidth,null==N?void 0:N.scrollWidth,b,r]);let{rows:w}=r.getRowModel(),S=(0,o.o)({parentRef:v,size:w.length,overscan:10}),{virtualItems:C,totalSize:k}=S,R=C.length>0&&(null==C?void 0:null===(l=C[0])||void 0===l?void 0:l.start)||0,P=C.length>0?k-((null==C?void 0:null===(t=C[C.length-1])||void 0===t?void 0:t.end)||0):0;return(0,a.jsx)("div",{className:"h-[400px] w-full overflow-auto",onScroll:e=>{f(e.target)},ref:v,children:(0,a.jsxs)(u,{className:"relative table",children:[(0,a.jsx)(m,{children:r.getHeaderGroups().map(e=>(0,a.jsx)(x,{children:e.headers.map(e=>(0,a.jsx)(h,{className:"".concat(150!==e.getSize()?"max-w-[".concat(e.getSize(),"px]"):""," sticky top-0 z-10 bg-muted"),colSpan:e.colSpan,children:e.isPlaceholder?null:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{className:e.column.getCanSort()?"select-none flex justify-center":"flex justify-center",children:(0,d.ie)(e.column.columnDef.header,e.getContext())}),c&&e.column.getCanFilter()?(0,a.jsx)("div",{className:"".concat(c&&e.column.getCanFilter()?"":"hidden"),children:(0,a.jsx)(y,{column:e.column})}):null]})},e.id))},e.id))}),(0,a.jsxs)(g,{className:"table-row-group",children:[R>0&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{style:{height:"".concat(R,"px")}})}),C.map(e=>{var l;let t=w[e.index];return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(x,{className:"".concat("/sdp"===j&&"No"===t.original.enabled?"strikethrough":""," table-row"),"data-state":((null===(l=r.options.meta)||void 0===l?void 0:l.selectedRow[t.id])||t.getIsSelected())&&"selected",children:t.getVisibleCells().map(e=>(0,a.jsx)(p,{className:"table-cell",children:(0,d.ie)(e.column.columnDef.cell,e.getContext())},e.id))},t.id),t.getIsExpanded()&&(0,a.jsx)(x,{className:"w-full bg-background p-4",children:(0,a.jsx)(p,{colSpan:t.getVisibleCells().length,children:(0,a.jsx)("ul",{className:"inline-block pl-6",children:t.getAllCells().map(e=>{let l=t.getVisibleCells().map(e=>e.column.id);return l.includes(e.column.id)?null:(0,a.jsxs)("li",{className:"p-2",children:[(0,a.jsxs)("span",{className:"inline-block font-semibold capitalize",children:[e.column.id,":"]}),(0,a.jsx)("span",{className:"inline-block pl-2",children:(0,d.ie)(e.column.columnDef.cell,e.getContext())})]},e.column.id+"li")})})})},"".concat(t.id,"a"))]},t.id)}),P>0&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{style:{height:"".concat(P,"px")}})})]})]})})};var S=t(262),C=t(7785),k=t(3153);function R(e){let{table:l}=e,t=(0,n.usePathname)();return(0,a.jsxs)(C.h_,{children:[(0,a.jsx)(S.$F,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(k.P.options,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden md:block",children:"View"})]})}),(0,a.jsxs)(C.AW,{align:"end",className:"w-full",children:[(0,a.jsx)(C.Ju,{children:"Toggle columns"}),(0,a.jsx)(C.VD,{}),l.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()).map(e=>(0,a.jsx)(C.bO,{className:"capitalize focus:bg-secondary focus:text-secondary-foreground",checked:e.getIsVisible(),onCheckedChange:l=>{var a;let s=JSON.parse(null!==(a=localStorage.getItem(t))&&void 0!==a?a:"{}"),r={...s,[e.id]:!!l};localStorage.setItem(t,JSON.stringify(r)),e.toggleVisibility(!!l)},children:e.id},e.id))]})]})}var P=t(3071);let _=P.fC,z=P.xz,V=e=>{let{className:l,children:t,...s}=e;return(0,a.jsx)(P.h_,{className:(0,c.cn)(l),...s,children:(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center sm:items-center",children:t})})};V.displayName=P.h_.displayName;let F=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)(P.aV,{ref:l,className:(0,c.cn)("bg-background/80 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in fixed inset-0 z-50 backdrop-blur-sm transition-all duration-100",t),...s})});F.displayName=P.aV.displayName;let D=s.forwardRef((e,l)=>{let{className:t,children:s,...r}=e;return(0,a.jsxs)(V,{children:[(0,a.jsx)(F,{}),(0,a.jsxs)(P.VY,{ref:l,className:(0,c.cn)("bg-background animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0 fixed z-50 grid max-h-screen w-full gap-4 overflow-y-auto rounded-b-lg border p-6 shadow-lg sm:max-w-lg sm:rounded-lg",t),...r,children:[s,(0,a.jsxs)(P.x8,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none",children:[(0,a.jsx)(k.P.closeMenu,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});D.displayName=P.VY.displayName;let I=e=>{let{className:l,...t}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",l),...t})};I.displayName="DialogHeader";let O=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)(P.Dx,{ref:l,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});O.displayName=P.Dx.displayName;let E=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)(P.dk,{ref:l,className:(0,c.cn)("text-muted-foreground text-sm",t),...s})});E.displayName=P.dk.displayName;let A=e=>{let{children:l,openDialogue:t,setOpenDialogue:s}=e;return(0,a.jsxs)(_,{onOpenChange:s,open:t,children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(k.P.plus,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden md:block",children:"Add row"})]})}),(0,a.jsxs)(D,{className:"sm:max-w-[425px] md:max-w-[600px]",children:[(0,a.jsxs)(I,{children:[(0,a.jsx)(O,{children:"Please, fill all necessary information"}),(0,a.jsx)(E,{children:"Make changes to your data here. Click save when you are done."})]}),l]})]})};var M=t(2820),H=t.n(M),J=t(3052);let T=H()(()=>t.e(451).then(t.bind(t,9451)).then(e=>e.CSVLink),{loadableGenerated:{webpack:()=>[9451]},ssr:!1}),W=e=>{var l;let{data:t,componentRef:s}=e,i=null===(l=(0,n.usePathname)().split("/").splice(1))||void 0===l?void 0:l.join("-"),d=(0,J.useReactToPrint)({content:()=>s.current});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T,{data:t,filename:"".concat(i,".csv"),children:(0,a.jsx)(r.z,{variant:"outline",children:"Export to CSV"})}),(0,a.jsx)(r.z,{variant:"outline",onClick:d,children:"Print in PDF"})]})},L=e=>{let{table:l}=e,[t,n]=(0,s.useState)(""),{setGlobalFilter:i,resetGlobalFilter:d}=l;return(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(j.I,{className:"w-64",value:t,onChange:e=>{n(e.target.value),i(e.target.value)},placeholder:"Global search"}),t&&(0,a.jsxs)(r.z,{variant:"outline",onClick:()=>{n(""),d()},className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"hidden lg:block",children:"Reset"})," ",(0,a.jsx)(k.P.closeMenu,{className:"h-5"})]})]})},U=()=>(0,a.jsxs)("div",{role:"status",className:"w-full animate-pulse space-y-6  p-6 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-10",children:[(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(k.P.dotsHorizontal,{className:"w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-10",children:[(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(k.P.dotsHorizontal,{className:"w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-10",children:[(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(k.P.dotsHorizontal,{className:"w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-10",children:[(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(k.P.dotsHorizontal,{className:"w-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-10",children:[(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"h-10 w-full rounded-md bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(k.P.dotsHorizontal,{className:"w-4"})})]}),(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})]}),X=e=>{let{data:l,table:t,openDialogue:n,setOpenDialogue:i,children:d,fetchMoreOnBottomReached:o,tableContainerRef:c,isLoading:u}=e,[m,g]=(0,s.useState)(!1),f=(0,s.useRef)(null);return(0,a.jsx)("section",{className:"container grid items-center gap-6 pb-8 pt-6 md:py-10",children:(0,a.jsxs)("div",{className:"overflow-hidden rounded-[0.5rem] border bg-background shadow-xl",children:[(0,a.jsx)("div",{className:"w-full overflow-x-auto p-8",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2 py-4 sm:flex-row ",children:[(0,a.jsx)(L,{table:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.z,{variant:"outline",onClick:()=>g(!m),className:"flex gap-2",children:[(0,a.jsx)(k.P.search,{className:"w-4 "}),(0,a.jsx)("span",{className:"hidden lg:block",children:"Column search"})]}),(0,a.jsx)(R,{table:t}),d&&(0,a.jsx)(A,{openDialogue:n,setOpenDialogue:i,children:d})]})]}),(0,a.jsx)("div",{className:"rounded-md border",ref:f,children:u?(0,a.jsx)(U,{}):(0,a.jsx)(w,{table:t,columnSearch:m,setColumnSearch:g,tableContainerRef:c,fetchMoreOnBottomReached:o})})]})}),l&&(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4 p-8",children:[(0,a.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[t.getFilteredSelectedRowModel().rows.length," of"," ",t.getFilteredRowModel().rows.length," row(s) selected."]}),!u&&(0,a.jsx)(W,{data:l,componentRef:f})]})]})})}},4989:function(e,l,t){t.d(l,{X:function(){return d}});var a=t(5607),s=t(8570),r=t(7663),n=t(9958),i=t(3153);let d=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)(r.fC,{ref:l,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:(0,a.jsx)(r.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(i.P.check,{className:"h-4 w-4"})})})});d.displayName=r.fC.displayName},5175:function(e,l,t){t.d(l,{I:function(){return n}});var a=t(5607),s=t(8570),r=t(9958);let n=s.forwardRef((e,l)=>{let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,r.cn)("border-input ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border bg-transparent px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:l,...n})});n.displayName="Input"},9260:function(e,l,t){t.d(l,{x:function(){return r}});var a=t(8570),s=t(7275);let r=e=>{let l,t,r,n;let{permissions:i}=(0,a.useContext)(s.Vo);return"/ldb"===e?(l=null==i?void 0:i.includes("Ldb@CreateRecord"),t=null==i?void 0:i.includes("Ldb@UpdateRecord"),r=null==i?void 0:i.includes("Ldb@DeleteRecord")):"/sdp"===e?(l=null==i?void 0:i.includes("Sdp@CreateSdp"),t=null==i?void 0:i.includes("Sdp@UpdateSdp")):"/msag/imports"===e||"/msag/records"===e?(t=null==i?void 0:i.includes("Msag@UpdateRecord"),r=null==i?void 0:i.includes("Msag@DeleteRecord"),l=null==i?void 0:i.includes("Msag@CreateRecord"),n=null==i?void 0:i.includes("Msag@UploadFile")):("/soi/imports"===e||"/soi/records"===e)&&(t=null==i?void 0:i.includes("Soi@UpdateRecord"),r=null==i?void 0:i.includes("Soi@DeleteRecord"),l=null==i?void 0:i.includes("Soi@CreateRecord"),n=null==i?void 0:i.includes("Soi@UploadFile")),{canCreate:l,canUpdate:t,canDelete:r,canUploadFile:n}}},4889:function(e,l,t){t.d(l,{b:function(){return i}});var a=t(8570),s=t(9520),r=t(7275),n=t(5697);let i=e=>{let[l,t]=(0,a.useState)(!1),{permissions:i}=(0,a.useContext)(r.Vo);return(0,a.useEffect)(()=>{i&&(i.includes(e)?t(!0):((0,n.Am)({variant:"error",description:"You do not have permission to access this page."}),(0,s.redirect)("/")))},[i,e]),l}},813:function(e,l,t){t.d(l,{G:function(){return r}});var a=t(9520),s=t(8570);let r=e=>{let l=(0,a.useSearchParams)(),t=(0,a.useRouter)(),r="";if(l.has("order_by"))r="?".concat(l.toString());else{var n;let{order_type:t,order_by:a}=JSON.parse(null!==(n=localStorage.getItem("".concat(e,"-sort")))&&void 0!==n?n:JSON.stringify({order_type:"asc",order_by:"id"}));r="?".concat(l.toString(),"order_by=").concat(a,"&order_type=").concat(t)}return(0,s.useEffect)(()=>{t.push("".concat(e).concat(r))},[]),r}},4811:function(e,l,t){t.d(l,{i:function(){return r}});var a=t(2396);let s=Number("10"),r=(e,l,t,r)=>(0,a.N)({queryKey:e,queryFn:async t=>{let{pageParam:a=0}=t,n=a*s,i=await l(s,n,r);return console.log("Fetch ".concat(JSON.stringify(e)),i),i},enabled:t,getNextPageParam:(e,l)=>l.length,keepPreviousData:!0,refetchOnWindowFocus:!1})},8025:function(e,l,t){t.d(l,{_:function(){return n}});var a=t(8570),s=t(5697),r=t(9520);let n=e=>{var l;let{data:t,isFetching:n,fetchNextPage:i,tableContainerRef:d}=e,o=(0,r.useSearchParams)(),c=null==t?void 0:t.pages[(null==t?void 0:t.pages.length)-1],u=(null==c?void 0:c.length)!==0,m=(0,a.useMemo)(()=>{var e;return null!==(l=null==t?void 0:null===(e=t.pages)||void 0===e?void 0:e.flatMap(e=>e))&&void 0!==l?l:[]},[t]),[g,f]=(0,a.useState)(!1),x=(0,a.useCallback)(e=>{if(e){let{scrollHeight:l,scrollTop:t,clientHeight:a}=e,s=l-t-a;0!==s&&s<300&&!g&&u&&(f(!0),i())}},[g,u,i]);return(0,a.useEffect)(()=>{n||f(!1)},[n]),(0,a.useEffect)(()=>{g||x(d.current)},[x,g,d]),(0,a.useEffect)(()=>{u||o.get("data_provider_string")||(0,s.Am)({variant:"default",description:"No more data to show"})},[u]),{flatData:m,fetchMoreOnBottomReached:x}}},5344:function(e,l,t){t.d(l,{x:function(){return u}});var a=t(8570),s=t(7550);let r=(e,l,t,a)=>{let r=(0,s.O4)(e.getValue(l),t);return a({itemRank:r}),r.passed};var n=t(4248),i=t(9045),d=t(6028),o=t(5697);let c=(e,l)=>{try{let t=l.parse(e);if(t)return!0}catch(e){if(e instanceof d.z.ZodError){console.log(e.issues);let l=e.issues.map((e,l)=>"".concat(l+1,". ").concat(JSON.stringify(e.path)," - ").concat(e.message));(0,o.Am)({variant:"error",description:l})}}},u=(e,l,t,s)=>{let[d,o]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[g,f]=(0,a.useState)({}),[x,h]=(0,a.useState)({}),[p,v]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&(o(e),m(e))},[e]);let j=(0,n.b7)({data:d,columns:l,getCoreRowModel:(0,i.sC)(),getFilteredRowModel:(0,i.vL)(),getSortedRowModel:(0,i.tj)(),onGlobalFilterChange:v,globalFilterFn:r,onRowSelectionChange:h,getExpandedRowModel:(0,i.rV)(),getSubRows:e=>e.adr_providers,manualFiltering:!0,manualSorting:!0,meta:{updateData:(e,l,t)=>{o(a=>a.map((s,r)=>r===e?{...a[e],[l]:t}:s))},revertData:e=>{o(l=>l.map((l,t)=>t===e?u[e]:l))},saveData:e=>{m(l=>l.map((l,t)=>t===e.id?e:l))},validation:e=>c(d[e],s),data:d,updateFunction:t,selectedRow:g,setSelectedRow:f},state:{globalFilter:p,rowSelection:x},initialState:{columnVisibility:{}}});return j}},4279:function(e,l,t){t.d(l,{F:function(){return n}});var a=t(6884),s=t(4508),r=t(5697);let n=(e,l)=>{let t=(0,a.NL)();return(0,s.D)({mutationFn:e,onSuccess:(e,a)=>{let{id:s}=a;t.invalidateQueries({queryKey:l,refetchPage(e){let l=e.find(e=>e.id===s);return!!l}}),(0,r.Am)({variant:"success",description:"Successfully changed"})}})}}}]);